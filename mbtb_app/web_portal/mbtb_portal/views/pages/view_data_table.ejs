<title>View Data</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://angular-data-grid.github.io/dist/pagination.js"></script>
<script src="https://angular-data-grid.github.io/dist/JSONToCSVConvertor.js"></script>
<script src="https://angular-data-grid.github.io/dist/dataGrid.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<div ng-app="view_data_table_app" ng-controller="view_data_table_controller" grid-actions="gridActions1"
     class="container-fluid view_data_table_container">
    <h2 class="heading_title">View Data</h2>
    <br>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="orderIdFilter">Search by order</label>
                <input id="orderIdFilter" type="text" class="form-control"
                       placeholder="Enter order #"
                       ng-change="gridActions1.filter()"
                       ng-model="code"
                       filter-by="code"
                       filter-type="text">
            </div>
        </div>

        <div class="col-md-6">
            <label for="search">Search</label>
            <input ng-model="q" id="search" class="form-control">
        </div>
    </div>

    <div class="row container-fluid">
        <div grid-data id="test" grid-options="gridOptions" grid-actions="gridActions1">
            <div class="row-no-gutters">
                <div class="col-sm-3">
                    <span class="items">{{filtered.length}} items  total</span>
                </div>

                <div class="row container-fluid">
                    <form class="form-inline pull-right margin-bottom-basic">
                        <div class="form-group">
                            <grid-pagination max-size="5" boundary-links="true" class="pagination-sm"
                                             total-items="paginationOptions.totalItems" ng-model="paginationOptions.currentPage"
                                             ng-change="reloadGrid()" items-per-page="paginationOptions.itemsPerPage">
                            </grid-pagination>
                        </div>
                        <div class="form-group items-per-page">
                            <label for="select_page">Item per page:</label>
                            <select id="select_page" class="form-control input-sm"
                                    ng-init="paginationOptions.itemsPerPage = '10'"
                                    ng-model="paginationOptions.itemsPerPage"
                                    ng-change="reloadGrid()">
                                <option>10</option>
                                <option>50</option>
                                <option>100</option>
                            </select>
                        </div>
                    </form>
                </div>
            </div>


                <table class="table table-bordered table-striped">
                    <thead>
                    <tr>
                        <th sortable="code" class="sortable"> Order #
                        </th>
                        <th sortable="placed" class="sortable">
                            Date Placed
                        </th>
                        <th class="st-sort-disable th-dropdown">
                            <label for="select_status"></label>
                            <select id="select_status" class="form-control width-15"
                                    filter-by="statusDisplay"
                                    filter-type="select"
                                    ng-model="status"
                                    ng-change="filter()">
                                <option value="">All statuses</option>
                                <option ng-repeat="option in statusOptions track by option.value" value="{{option.value}}">
                                    {{option.text}}
                                </option>
                            </select>
                        </th>
                        <th sortable="total.value" class="sortable">Total
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr grid-item>
                        <td ng-bind="item.code"></td>
                        <td ng-bind="item.placed | date:'MM/dd/yyyy' "></td>
                        <td ng-bind="item.statusDisplay"></td>
                        <td ng-bind="item.total.formattedValue"></td>
                    </tr>
                    </tbody>
                </table>

            <div class="row container-fluid">
                <form class="form-inline pull-right margin-bottom-basic">
                    <div class="form-group pagination_container">
                        <grid-pagination max-size="5" boundary-links="true" class="pagination-sm"
                                         total-items="paginationOptions.totalItems" ng-model="paginationOptions.currentPage"
                                         ng-change="reloadGrid()" items-per-page="paginationOptions.itemsPerPage">
                        </grid-pagination>
                    </div>
                    <div class="form-group items-per-page">
                        <label for="select_page">Item per page:</label>
                        <select id="select_page" class="form-control input-sm"
                                ng-init="paginationOptions.itemsPerPage = '10'"
                                ng-model="paginationOptions.itemsPerPage"
                                ng-change="reloadGrid()">
                            <option>10</option>
                            <option>50</option>
                            <option>100</option>
                        </select>
                    </div>
                </form>
            </div>

        </div>
        </div>

    <div class="row button_holder">
        <div class="col-md-12">
            <button class="btn btn-primary export_button" ng-click="exportToCsv(gridOptions.data)">Export data to CSV
                <i class="fa fa-download"></i>
            </button>

            <button class="btn btn-primary export_button" ng-click="exportToCsv(gridOptions.grid.filtered)">Export filtered data to CSV
                <i class="fa fa-download"></i>
            </button>
        </div>
    </div>

</div>

