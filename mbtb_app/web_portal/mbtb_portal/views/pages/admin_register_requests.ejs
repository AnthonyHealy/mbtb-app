<title>User Requests</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<div class="container-fluid requests_container">
    <div class="col-md-12">
        <h2 class="heading_title">New User Requests</h2>
        <br>
        <form id="user_requests_form" >
            <input type="hidden" id="data_length" value="<%= data.length %>">
            <script>
                // binding data recieved from sails controller to JS variable to pass it to angular
                var mbtb_data = <%- JSON.stringify(data) %>;
            </script>

            <table id="user_requests_table" class="table table-bordered">
                <thead>
                <tr>
                    <th><input type="checkbox" onClick="toggle_all(this.checked)" id="select_all"></th>
                    <th>Title</th>
                    <th>First Name</th>
                    <th>Middle Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Institution</th>
                    <th>Department</th>
                    <th>Position</th>
                    <th>Address 1</th>
                    <th>Address 2</th>
                    <th>City</th>
                    <th>Province</th>
                    <th>Country</th>
                    <th>Comments</th>
                </tr>
                </thead>

                <% for(var i=0; i < data.length; i++) { %>
                    <tr>
                        <td><input type="checkbox" name="checkbox<%- i %>" id="checkbox<%- i %>" value="<%= data[i].id %>")></td>
                        <td><%= data[i].title %></td>
                        <td><%= data[i].first_name %></td>
                        <td><%= data[i].middle_name %></td>
                        <td><%= data[i].last_name %></td>
                        <td><%= data[i].email %></td>
                        <td><%= data[i].institution %></td>
                        <td><%= data[i].department_name %></td>
                        <td><%= data[i].position_title %></td>
                        <td><%= data[i].address_line_1 %></td>
                        <td><%= data[i].address_line_2 %></td>
                        <td><%= data[i].city %></td>
                        <td><%= data[i].province %></td>
                        <td><%= data[i].country %></td>
                        <td><%= data[i].comments %></td>
                    </tr>
                <% } %>
            </table>
        </form>

        <br>
        <br>
        <div class="form-group button_holder">
            <div class="col" id="cancel_btn">
                <button class="btn btn-primary" id="deny_request_btn"> Deny</button>
                <button class="btn btn-primary" id="accept_request_btn">Approve</button>
            </div>
        </div>

        <div id="temp_msg"></div>

    </div>
</div>
<br>


